@model IEnumerable<resourceEdge.Domain.Entities.SystemAdminViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/Layouts/_HrLayout.cshtml";
}

@section Css{
    <style>
        #modaldia {
            width: 500px;
            margin: auto;
            vertical-align: middle;
            margin-top: 50px;
        }
        .modal-without-animation{

        }
    </style>
}

<div class="table-responsive">
    <table class="table table-responsive table-striped table-bordered">
        <tr>
            <td>
                @Html.ActionLink("Add Admin", "AddAdmin", "Admin", null, new { @class = "btn btn-info pull-right" })
            </td>
        </tr>
        <tr>
            <td>
                <table class="table table-responsive table-striped table-bordered">
                    <tr>
                        <th>
                            @Html.DisplayNameFor(model => model.Name)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Email)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Group)
                        </th>
                        <th>
                            @Html.DisplayNameFor(model => model.Location)
                        </th>
                        <th></th>
                    </tr>

                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => item.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Email)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Group)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => item.Location)
                            </td>
                            <td>
                                <button type="button" id="" onclick="GetAdminDetail(@item.ID)" class="btn btn-info detail pull-right">Detail</button>
                            </td>
                        </tr>
                    }

                </table>
            </td>
        </tr>
    </table>
</div>

<div class="table-responsive">

    <div class="modal" id="modal-without-animation" data-backdrop="static" data-keyboard="false">
        <div class="modal-dialog modal-lg" id="modaldia">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Admin Detail</h4>
                </div>
                <div class="modal-body" id="mBody">

                </div>
                <div class="modal-footer">
                    <a href="javascript:;" class="btn btn-sm btn-white" data-dismiss="modal">Close</a>
                </div>
            </div>
        </div>
    </div>

</div>


@section Scripts{
    <script>
        function GetAdminDetail(id) {
            console.log("Method entered");
            $.ajax({
                type: 'GET',
                url: '/admin/AdminDetail/' + id,
                contentType: "application/html; charset=utf-8",
                //dataType: "json",
                success: function (data) {
                    console.log('in the GetempLeaveAmount method');
                    console.log(data);
                    if (data != null) {
                 
                        $('#img').empty();
                        $('#mBody').html(data
                            )
                        $('#modal-without-animation').modal('show');
                    } else {
                    }
                },
                failure: function () {
                    var message = {
                        message: "Failed to load data... Try again later"
                    };
                    $('#mBody').val(`${message}`);
                }
            })
        };

    </script>

}